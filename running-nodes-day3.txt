/home/vagrant/jun3> knife ssl check

Connecting to host chef-server.test:443
Successfully verified certificates from `chef-server.test'
/home/vagrant/jun3>
/home/vagrant/jun3> ls -a
.   apache.rb  cookbooks      node1-ubuntu-key.pem  stop.rb
..  .chef      helloworld.rb  nodes
/home/vagrant/jun3> cd .chef
/home/vagrant/jun3/.chef> ls
admin.pem  knife.rb  local-mode-cache  syntaxcache  trusted_certs
/home/vagrant/jun3/.chef> cd ..
/home/vagrant/jun3> ls
apache.rb  cookbooks  helloworld.rb  node1-ubuntu-key.pem  nodes  stop.rb
/home/vagrant/jun3> knife node list
ERROR: Server returned error 500 for https://chef-server.test/organizations/devopsdemo/nodes, retrying 1/5 in 3s
node1-ubuntu
/home/vagrant/jun3> knife node show node1-ubuntu
Node Name:   node1-ubuntu
Environment: _default
FQDN:        node1-ubuntu
IP:          10.0.2.15
Run List:    recipe[apache2]
Roles:
Recipes:     apache2, apache2::default
Platform:    ubuntu 14.04
Tags:
/home/vagrant/jun3> cd cookbooks/
/home/vagrant/jun3/cookbooks> chef generate cookbook user
Generating cookbook user
- Ensuring correct cookbook file content
- Committing cookbook files to git
- Ensuring delivery configuration
- Ensuring correct delivery build cookbook content
- Adding delivery configuration to feature branch
- Adding build cookbook to feature branch
- Merging delivery content feature branch to master

Your cookbook is ready. Type `cd user` to enter it.

There are several commands you can run to get started locally developing and testing your cookbook.
Type `delivery local --help` to see a full list.

Why not start by writing a test? Tests for the default recipe are stored at:

test/recipes/default_test.rb

If you'd prefer to dive right in, the default recipe can be found at:

recipes/default.rb

/home/vagrant/jun3/cookbooks> vi user/recipes/default.rb
/home/vagrant/jun3/cookbooks> vi user/recipes/default.rb
/home/vagrant/jun3/cookbooks> cat user/recipes/default.rb
user 'userjun6' do
  home '/home/userjun6'
  shell '/bin/bash'
  password '$1$aNenDpoI$26X77RXKaD.iFKZjlMdMT.'
end

group 'userjun6' do
  action :create
  members 'userjun6'
end

directory '/home/userjun6' do
  owner 'userjun6'
  group 'userjun6'
  mode '0755'
  action :create
end
/home/vagrant/jun3/cookbooks> knife cookbook upload user
Uploading user           [0.1.0]
Uploaded 1 cookbook.
/home/vagrant/jun3/cookbooks> knife cookbook show user
user   0.1.0
/home/vagrant/jun3/cookbooks> cd ..
/home/vagrant/jun3> ls
apache.rb  cookbooks  helloworld.rb  node1-ubuntu-key.pem  nodes  stop.rb
/home/vagrant/jun3> mkdir roles
/home/vagrant/jun3> ls
apache.rb  helloworld.rb         nodes  stop.rb
cookbooks  node1-ubuntu-key.pem  roles
/home/vagrant/jun3> vi roles/webserver.json
/home/vagrant/jun3> ^C
/home/vagrant/jun3> vi roles/webserver.json
/home/vagrant/jun3> cat roles/webserver.json
{
  "name": "webserver",
  "json_class": "Chef::Role",
  "chef_type": "role",
  "run_list": [
                "recipe[apache2]",
                "recipe[user]"
              ]
}
/home/vagrant/jun3> knife role from file webserver.json
Updated Role webserver
/home/vagrant/jun3> knife role --help
FATAL: Cannot find subcommand for: 'role --help'
Available role subcommands: (for details, knife SUB-COMMAND --help)

** ROLE COMMANDS **
knife role bulk delete REGEX (options)
knife role create ROLE (options)
knife role delete ROLE (options)
knife role edit ROLE (options)
knife role env_run_list add [ROLE] [ENVIRONMENT] [ENTRY[,ENTRY]] (options)
knife role env_run_list clear [ROLE] [ENVIRONMENT]
knife role env_run_list remove [ROLE] [ENVIRONMENT] [ENTRIES]
knife role env_run_list replace [ROLE] [ENVIRONMENT] [OLD_ENTRY] [NEW_ENTRY]
knife role env_run_list set [ROLE] [ENVIRONMENT] [ENTRIES]
knife role from file FILE [FILE..] (options)
knife role list (options)
knife role run_list add [ROLE] [ENTRY[,ENTRY]] (options)
knife role run_list clear [ROLE]
knife role run_list remove [ROLE] [ENTRY]
knife role run_list replace [ROLE] [OLD_ENTRY] [NEW_ENTRY]
knife role run_list set [ROLE] [ENTRIES]
knife role show ROLE (options)

/home/vagrant/jun3> knife role list
webserver
/home/vagrant/jun3> knife role edit webserver
ERROR: RuntimeError: Please set EDITOR environment variable
/home/vagrant/jun3> export EDITOR=vi
/home/vagrant/jun3> knife role edit webserver
Object unchanged, not saving
/home/vagrant/jun3> knife role show webserver
chef_type:           role
default_attributes:
description:
env_run_lists:
json_class:          Chef::Role
name:                webserver
override_attributes:
run_list:
  recipe[apache2]
  recipe[user]
/home/vagrant/jun3> cd cookbooks/
/home/vagrant/jun3/cookbooks> l
apache2/  mycookbook-0.2.0/  myvars/  user/
/home/vagrant/jun3/cookbooks> cd ..
/home/vagrant/jun3> #knife node run_list set node1-ubuntu 'role[webserver]'
/home/vagrant/jun3> knife node show node1-ubuntu
Node Name:   node1-ubuntu
Environment: _default
FQDN:        node1-ubuntu
IP:          10.0.2.15
Run List:    recipe[apache2]
Roles:
Recipes:     apache2, apache2::default
Platform:    ubuntu 14.04
Tags:
/home/vagrant/jun3> knife node run_list set node1-ubuntu 'role[webserver]'
node1-ubuntu:
  run_list: role[webserver]
/home/vagrant/jun3> knife node show node1-ubuntu
Node Name:   node1-ubuntu
Environment: _default
FQDN:        node1-ubuntu
IP:          10.0.2.15
Run List:    role[webserver]
Roles:
Recipes:     apache2, apache2::default
Platform:    ubuntu 14.04
Tags:
/home/vagrant/jun3> knife ssh 10.1.1.34 'sudo chef-client' --manual-list --ssh-user vagrant
10.1.1.34 bash: warning: setlocale: LC_ALL: cannot change locale (en_US)
10.1.1.34 [2019-06-06T05:19:14+00:00] INFO: Forking chef instance to converge...
10.1.1.34 Starting Chef Client, version 12.21.4
10.1.1.34 [2019-06-06T05:19:15+00:00] INFO: *** Chef 12.21.4 ***
10.1.1.34 [2019-06-06T05:19:15+00:00] INFO: Platform: x86_64-linux
10.1.1.34 [2019-06-06T05:19:15+00:00] INFO: Chef-client pid: 1758
10.1.1.34 [2019-06-06T05:19:15+00:00] INFO: The plugin path /etc/chef/ohai/plugins does not exist. Skipping...
10.1.1.34 [2019-06-06T05:19:21+00:00] INFO: Run List is [role[webserver]]
10.1.1.34 [2019-06-06T05:19:21+00:00] INFO: Run List expands to [apache2, user]
10.1.1.34 [2019-06-06T05:19:21+00:00] INFO: Starting Chef Run for node1-ubuntu
10.1.1.34 [2019-06-06T05:19:21+00:00] INFO: Running start handlers
10.1.1.34 [2019-06-06T05:19:21+00:00] INFO: Start handlers complete.
10.1.1.34 [2019-06-06T05:19:21+00:00] INFO: HTTP Request Returned 404 Not Found:
10.1.1.34 [2019-06-06T05:19:21+00:00] INFO: HTTP Request Returned 404 Not Found:
10.1.1.34 [2019-06-06T05:19:21+00:00] INFO: Error while reporting run start to Data Collector. URL: https://chef-server.test/organizations/devopsdemo/data-collector Exception: 404 -- 404 "Not Found"  (This is normal if you do not have Chef Automate)
10.1.1.34 resolving cookbooks for run list: ["apache2", "user"]
10.1.1.34 [2019-06-06T05:19:22+00:00] INFO: Loading cookbooks [apache2@0.1.0, user@0.1.0]
10.1.1.34 Synchronizing Cookbooks:
10.1.1.34   - apache2 (0.1.0)
10.1.1.34 [2019-06-06T05:19:23+00:00] INFO: Storing updated cookbooks/user/recipes/default.rb in the cache.
10.1.1.34 [2019-06-06T05:19:23+00:00] INFO: Storing updated cookbooks/user/.kitchen.yml in the cache.
10.1.1.34 [2019-06-06T05:19:23+00:00] INFO: Storing updated cookbooks/user/Berksfile in the cache.
10.1.1.34 [2019-06-06T05:19:23+00:00] INFO: Storing updated cookbooks/user/chefignore in the cache.
10.1.1.34 [2019-06-06T05:19:23+00:00] INFO: Storing updated cookbooks/user/.gitignore in the cache.
10.1.1.34 [2019-06-06T05:19:23+00:00] INFO: Storing updated cookbooks/user/metadata.rb in the cache.
10.1.1.34 [2019-06-06T05:19:23+00:00] INFO: Storing updated cookbooks/user/README.md in the cache.
10.1.1.34   - user (0.1.0)
10.1.1.34 Installing Cookbook Gems:
10.1.1.34 Compiling Cookbooks...
10.1.1.34 [2019-06-06T05:19:23+00:00] INFO: HTTP Request Returned 404 Not Found:
10.1.1.34 Converging 6 resources
10.1.1.34 Recipe: apache2::default
10.1.1.34   * apt_package[apache2] action install[2019-06-06T05:19:23+00:00] INFO: Processing apt_package[apache2] action install (apache2::default line 3)
10.1.1.34  (up to date)
10.1.1.34   * template[/etc/apache2/ports.conf] action create[2019-06-06T05:19:23+00:00] INFO: Processing template[/etc/apache2/ports.conf] action create (apache2::default line 8)
10.1.1.34  (up to date)
10.1.1.34   * service[restart apache] action nothing[2019-06-06T05:19:23+00:00] INFO: Processing service[restart apache] action nothing (apache2::default line 13)
10.1.1.34  (skipped due to action :nothing)
10.1.1.34 Recipe: user::default
10.1.1.34   * linux_user[userjun6] action create[2019-06-06T05:19:23+00:00] INFO: Processing linux_user[userjun6] action create (user::default line 1)
10.1.1.34 [2019-06-06T05:19:23+00:00] INFO: linux_user[userjun6] created
10.1.1.34
10.1.1.34     - create user userjun6
10.1.1.34   * group[userjun6] action create[2019-06-06T05:19:23+00:00] INFO: Processing group[userjun6] action create (user::default line 7)
10.1.1.34 [2019-06-06T05:19:24+00:00] INFO: group[userjun6] altered
10.1.1.34
10.1.1.34     - alter group userjun6
10.1.1.34     - replace group members with new list of members
10.1.1.34   * directory[/home/userjun6] action create[2019-06-06T05:19:24+00:00] INFO: Processing directory[/home/userjun6] action create (user::default line 12)
10.1.1.34 [2019-06-06T05:19:24+00:00] INFO: directory[/home/userjun6] created directory /home/userjun6
10.1.1.34
10.1.1.34     - create new directory /home/userjun6[2019-06-06T05:19:24+00:00] INFO: directory[/home/userjun6] owner changed to 1013
10.1.1.34 [2019-06-06T05:19:24+00:00] INFO: directory[/home/userjun6] group changed to 1013
10.1.1.34 [2019-06-06T05:19:24+00:00] INFO: directory[/home/userjun6] mode changed to 755
10.1.1.34
10.1.1.34     - change mode from '' to '0755'
10.1.1.34     - change owner from '' to 'userjun6'
10.1.1.34     - change group from '' to 'userjun6'
10.1.1.34 [2019-06-06T05:19:24+00:00] INFO: Chef Run complete in 2.921546931 seconds
10.1.1.34
10.1.1.34 Running handlers:
10.1.1.34 [2019-06-06T05:19:24+00:00] INFO: Running report handlers
10.1.1.34 Running handlers complete
10.1.1.34 [2019-06-06T05:19:24+00:00] INFO: Report handlers complete
10.1.1.34 Chef Client finished, 3/6 resources updated in 09 seconds
/home/vagrant/jun3> cat roles/webserver.json
{
  "name": "webserver",
  "json_class": "Chef::Role",
  "chef_type": "role",
  "run_list": [
                "recipe[apache2]",
                "recipe[user]"
              ]
}
/home/vagrant/jun3>

------------------------------------------------------------------------------------------------------
/home/vagrant/jun3> vi environments/dev.json
/home/vagrant/jun3> knife environment from file dev.json
Updated Environment dev
/home/vagrant/jun3> knife environment list
_default
dev
prod
/home/vagrant/jun3> knife environment delete prod
Do you really want to delete prod? (Y/N) Y
Deleted prod
/home/vagrant/jun3> cat environments/dev.json
{
    "name": "dev",
    "description": "For Dev Env",
    "json_class": "Chef::Environment",
    "chef_type": "environment",
    "cookbook_versions": { "apache2": "= 0.1.0" },
    "override_attributes": {
        "apache": { "port": "8087" }
    }
}
/home/vagrant/jun3> cp environments/dev.json environments/prod.json
/home/vagrant/jun3> vi environments/prod.json
/home/vagrant/jun3>
/home/vagrant/jun3> cat environments/dev.json
{
    "name": "dev",
    "description": "For Dev Env",
    "json_class": "Chef::Environment",
    "chef_type": "environment",
    "cookbook_versions": { "apache2": "= 0.1.0" },
    "override_attributes": {
        "apache": { "port": "8087" }
    }
}
/home/vagrant/jun3> cat environments/prod.json
{
    "name": "dev",
    "description": "For Dev Env",
    "json_class": "Chef::Environment",
    "chef_type": "environment",
    "cookbook_versions": { "apache2": "= 0.1.0" },
    "override_attributes": {
        "apache": { "port": "8090" }
    }
}
/home/vagrant/jun3> knife environment from file prod.json
Updated Environment dev
/home/vagrant/jun3> knife node show node1-ubuntu
Node Name:   node1-ubuntu
Environment: _default
FQDN:        node1-ubuntu
IP:          10.0.2.15
Run List:    role[webserver]
Roles:       webserver
Recipes:     apache2, apache2::default, user, user::default
Platform:    ubuntu 14.04
Tags:
/home/vagrant/jun3> knife role show webserver
chef_type:           role
default_attributes:
description:
env_run_lists:
json_class:          Chef::Role
name:                webserver
override_attributes:
run_list:
  recipe[apache2]
  recipe[user]
/home/vagrant/jun3> knife environment show dev
chef_type:           environment
cookbook_versions:
  apache2: = 0.1.0
default_attributes:
description:         For Dev Env
json_class:          Chef::Environment
name:                dev
override_attributes:
  apache:
    port: 8090
/home/vagrant/jun3> knife ssh 10.1.1.34 'sudo chef-client -E dev' --manual-list --ssh-user vagrant
10.1.1.34 bash: warning: setlocale: LC_ALL: cannot change locale (en_US)
10.1.1.34 [2019-06-06T06:45:59+00:00] INFO: Forking chef instance to converge...
10.1.1.34 Starting Chef Client, version 12.21.4
10.1.1.34 [2019-06-06T06:45:59+00:00] INFO: *** Chef 12.21.4 ***
10.1.1.34 [2019-06-06T06:45:59+00:00] INFO: Platform: x86_64-linux
10.1.1.34 [2019-06-06T06:45:59+00:00] INFO: Chef-client pid: 2172
10.1.1.34 [2019-06-06T06:45:59+00:00] INFO: The plugin path /etc/chef/ohai/plugins does not exist. Skipping...
10.1.1.34 [2019-06-06T06:46:02+00:00] INFO: Run List is [role[webserver]]
10.1.1.34 [2019-06-06T06:46:02+00:00] INFO: Run List expands to [apache2, user]
10.1.1.34 [2019-06-06T06:46:02+00:00] INFO: Starting Chef Run for node1-ubuntu
10.1.1.34 [2019-06-06T06:46:02+00:00] INFO: Running start handlers
10.1.1.34 [2019-06-06T06:46:02+00:00] INFO: Start handlers complete.
10.1.1.34 [2019-06-06T06:46:02+00:00] INFO: HTTP Request Returned 404 Not Found:
10.1.1.34 [2019-06-06T06:46:02+00:00] INFO: HTTP Request Returned 404 Not Found:
10.1.1.34 [2019-06-06T06:46:02+00:00] INFO: Error while reporting run start to Data Collector. URL: https://chef-server.test/organizations/devopsdemo/data-collector Exception: 404 -- 404 "Not Found"  (This is normal if you do not have Chef Automate)
10.1.1.34 resolving cookbooks for run list: ["apache2", "user"]
10.1.1.34 [2019-06-06T06:46:03+00:00] INFO: Loading cookbooks [apache2@0.1.0, user@0.1.0]
10.1.1.34 Synchronizing Cookbooks:
10.1.1.34   - user (0.1.0)
10.1.1.34   - apache2 (0.1.0)
10.1.1.34 Installing Cookbook Gems:
10.1.1.34 Compiling Cookbooks...
10.1.1.34 [2019-06-06T06:46:03+00:00] INFO: HTTP Request Returned 404 Not Found:
10.1.1.34 Converging 6 resources
10.1.1.34 Recipe: apache2::default
10.1.1.34   * apt_package[apache2] action install[2019-06-06T06:46:03+00:00] INFO: Processing apt_package[apache2] action install (apache2::default line 3)
10.1.1.34  (up to date)
10.1.1.34   * template[/etc/apache2/ports.conf] action create[2019-06-06T06:46:03+00:00] INFO: Processing template[/etc/apache2/ports.conf] action create (apache2::default line 8)
10.1.1.34 [2019-06-06T06:46:03+00:00] INFO: template[/etc/apache2/ports.conf] backed up to /var/chef/backup/etc/apache2/ports.conf.chef-20190606064603.283939
10.1.1.34 [2019-06-06T06:46:03+00:00] INFO: template[/etc/apache2/ports.conf] removed backup at /var/chef/backup/etc/apache2/ports.conf.chef-20181122063658.616875
10.1.1.34 [2019-06-06T06:46:03+00:00] INFO: template[/etc/apache2/ports.conf] updated file contents /etc/apache2/ports.conf
10.1.1.34
10.1.1.34     - update content in file /etc/apache2/ports.conf from 009ad8 to 4632c4
10.1.1.34     --- /etc/apache2/ports.conf       2019-06-04 10:58:26.179283207 +0000
10.1.1.34     +++ /etc/apache2/.chef-ports20190606-2172-131swtk.conf    2019-06-06 06:46:03.273471958 +0000
10.1.1.34     @@ -2,7 +2,7 @@
10.1.1.34      # have to change the VirtualHost statement in
10.1.1.34      # /etc/apache2/sites-enabled/000-default.conf
10.1.1.34
10.1.1.34     -Listen 9998
10.1.1.34     +Listen 8090
10.1.1.34
10.1.1.34      <IfModule ssl_module>
10.1.1.34              Listen 443
10.1.1.34   * service[restart apache] action nothing[2019-06-06T06:46:03+00:00] INFO: Processing service[restart apache] action nothing (apache2::default line 13)
10.1.1.34  (skipped due to action :nothing)
10.1.1.34 Recipe: user::default
10.1.1.34   * linux_user[userjun6] action create[2019-06-06T06:46:03+00:00] INFO: Processing linux_user[userjun6] action create (user::default line 1)
10.1.1.34  (up to date)
10.1.1.34   * group[userjun6] action create[2019-06-06T06:46:03+00:00] INFO: Processing group[userjun6] action create (user::default line 7)
10.1.1.34  (up to date)
10.1.1.34   * directory[/home/userjun6] action create[2019-06-06T06:46:03+00:00] INFO: Processing directory[/home/userjun6] action create (user::default line 12)
10.1.1.34  (up to date)
10.1.1.34 [2019-06-06T06:46:03+00:00] INFO: template[/etc/apache2/ports.conf] sending restart action to service[restart apache] (delayed)
10.1.1.34 Recipe: apache2::default
10.1.1.34   * service[restart apache] action restart[2019-06-06T06:46:03+00:00] INFO: Processing service[restart apache] action restart (apache2::default line 13)
10.1.1.34 [2019-06-06T06:46:06+00:00] INFO: service[restart apache] restarted
10.1.1.34
10.1.1.34     - restart service service[restart apache]
10.1.1.34 [2019-06-06T06:46:07+00:00] INFO: Chef Run complete in 4.718001326 seconds
10.1.1.34
10.1.1.34 Running handlers:
10.1.1.34 [2019-06-06T06:46:07+00:00] INFO: Running report handlers
10.1.1.34 Running handlers complete
10.1.1.34 [2019-06-06T06:46:07+00:00] INFO: Report handlers complete
10.1.1.34 Chef Client finished, 2/7 resources updated in 07 seconds
/home/vagrant/jun3>
/home/vagrant/jun3> cat environments/dev.json
{
    "name": "dev",
    "description": "For Dev Env",
    "json_class": "Chef::Environment",
    "chef_type": "environment",
    "cookbook_versions": { "apache2": "= 0.1.0" },
    "override_attributes": {
        "apache": { "port": "8087" }
    }
}
/home/vagrant/jun3> cat cookbooks/apache2/recipes/default.rb
node.default['apache']['port']=9998

package 'apache2' do
  action :install
end

service 'apache2' do
  action [:enable, :start]
end

template '/etc/apache2/ports.conf' do
  source 'ports.conf.erb'
  notifies :restart, 'service[restart apache]', :immediate
end

service 'restart apache' do
  service_name 'apache2'
  action :nothing
end
/home/vagrant/jun3> knife ssh 10.1.1.34 'sudo chef-client -E prod' --manual-list --ssh-user vagrant
10.1.1.34 bash: warning: setlocale: LC_ALL: cannot change locale (en_US)
10.1.1.34 [2019-06-06T06:48:37+00:00] INFO: Forking chef instance to converge...
10.1.1.34 Starting Chef Client, version 12.21.4
10.1.1.34 [2019-06-06T06:48:38+00:00] INFO: *** Chef 12.21.4 ***
10.1.1.34 [2019-06-06T06:48:38+00:00] INFO: Platform: x86_64-linux
10.1.1.34 [2019-06-06T06:48:38+00:00] INFO: Chef-client pid: 2557
10.1.1.34 [2019-06-06T06:48:38+00:00] INFO: The plugin path /etc/chef/ohai/plugins does not exist. Skipping...
10.1.1.34 [2019-06-06T06:48:41+00:00] INFO: HTTP Request Returned 404 Object Not Found: error
10.1.1.34
10.1.1.34 ================================================================================
10.1.1.34 Error expanding the run_list:
10.1.1.34 ================================================================================
10.1.1.34
10.1.1.34 Unexpected API Request Failure:
10.1.1.34 -------------------------------
10.1.1.34 Cannot load environment prod
10.1.1.34
10.1.1.34 System Info:
10.1.1.34 ------------
10.1.1.34 chef_version=12.21.4
10.1.1.34 platform=ubuntu
10.1.1.34 platform_version=14.04
10.1.1.34 ruby=ruby 2.3.4p301 (2017-03-30 revision 58214) [x86_64-linux]
10.1.1.34 program_name=chef-client worker: ppid=2552;start=06:48:37;
10.1.1.34 executable=/opt/chef/bin/chef-client
10.1.1.34
10.1.1.34
10.1.1.34 Running handlers:
10.1.1.34 [2019-06-06T06:48:41+00:00] ERROR: Running exception handlers
10.1.1.34 Running handlers complete
10.1.1.34 [2019-06-06T06:48:41+00:00] ERROR: Exception handlers complete
10.1.1.34 Chef Client failed. 0 resources updated in 03 seconds
10.1.1.34 [2019-06-06T06:48:41+00:00] FATAL: Stacktrace dumped to /var/chef/cache/chef-stacktrace.out
10.1.1.34 [2019-06-06T06:48:41+00:00] FATAL: Please provide the contents of the stacktrace.out file if you file a bug report
10.1.1.34 [2019-06-06T06:48:41+00:00] ERROR: 404 "Object Not Found"
10.1.1.34 [2019-06-06T06:48:41+00:00] FATAL: Chef::Exceptions::ChildConvergeError: Chef run process exited unsuccessfully (exit code 1)
/home/vagrant/jun3> cat environments/dev.json
{
    "name": "dev",
    "description": "For Dev Env",
    "json_class": "Chef::Environment",
    "chef_type": "environment",
    "cookbook_versions": { "apache2": "= 0.1.0" },
    "override_attributes": {
        "apache": { "port": "8087" }
    }
}
/home/vagrant/jun3> cat environments/prod.json
{
    "name": "dev",
    "description": "For Dev Env",
    "json_class": "Chef::Environment",
    "chef_type": "environment",
    "cookbook_versions": { "apache2": "= 0.1.0" },
    "override_attributes": {
        "apache": { "port": "8090" }
    }
}
/home/vagrant/jun3> knife environment from file dev.json                        Updated Environment dev
/home/vagrant/jun3> vi environments/prod.json
/home/vagrant/jun3> knife environment from file prod.json
Updated Environment prod
/home/vagrant/jun3> knife ssh 10.1.1.34 'sudo chef-client -E dev' --manual-list --ssh-user vagrant
10.1.1.34 bash: warning: setlocale: LC_ALL: cannot change locale (en_US)
10.1.1.34 [2019-06-06T06:50:42+00:00] INFO: Forking chef instance to converge...
10.1.1.34 Starting Chef Client, version 12.21.4
10.1.1.34 [2019-06-06T06:50:42+00:00] INFO: *** Chef 12.21.4 ***
10.1.1.34 [2019-06-06T06:50:42+00:00] INFO: Platform: x86_64-linux
10.1.1.34 [2019-06-06T06:50:42+00:00] INFO: Chef-client pid: 2811
10.1.1.34 [2019-06-06T06:50:42+00:00] INFO: The plugin path /etc/chef/ohai/plugins does not exist. Skipping...
10.1.1.34 [2019-06-06T06:50:45+00:00] INFO: Run List is [role[webserver]]
10.1.1.34 [2019-06-06T06:50:45+00:00] INFO: Run List expands to [apache2, user]
10.1.1.34 [2019-06-06T06:50:45+00:00] INFO: Starting Chef Run for node1-ubuntu
10.1.1.34 [2019-06-06T06:50:45+00:00] INFO: Running start handlers
10.1.1.34 [2019-06-06T06:50:45+00:00] INFO: Start handlers complete.
10.1.1.34 [2019-06-06T06:50:45+00:00] INFO: HTTP Request Returned 404 Not Found:
10.1.1.34 [2019-06-06T06:50:45+00:00] INFO: HTTP Request Returned 404 Not Found:
10.1.1.34 [2019-06-06T06:50:45+00:00] INFO: Error while reporting run start to Data Collector. URL: https://chef-server.test/organizations/devopsdemo/data-collector Exception: 404 -- 404 "Not Found"  (This is normal if you do not have Chef Automate)
10.1.1.34 resolving cookbooks for run list: ["apache2", "user"]
10.1.1.34 [2019-06-06T06:50:45+00:00] INFO: Loading cookbooks [apache2@0.1.0, user@0.1.0]
10.1.1.34 Synchronizing Cookbooks:
10.1.1.34   - apache2 (0.1.0)
10.1.1.34   - user (0.1.0)
10.1.1.34 Installing Cookbook Gems:
10.1.1.34 Compiling Cookbooks...
10.1.1.34 [2019-06-06T06:50:45+00:00] INFO: HTTP Request Returned 404 Not Found:
10.1.1.34 Converging 6 resources
10.1.1.34 Recipe: apache2::default
10.1.1.34   * apt_package[apache2] action install[2019-06-06T06:50:45+00:00] INFO: Processing apt_package[apache2] action install (apache2::default line 3)
10.1.1.34  (up to date)
10.1.1.34   * template[/etc/apache2/ports.conf] action create[2019-06-06T06:50:45+00:00] INFO: Processing template[/etc/apache2/ports.conf] action create (apache2::default line 8)
10.1.1.34 [2019-06-06T06:50:45+00:00] INFO: template[/etc/apache2/ports.conf] backed up to /var/chef/backup/etc/apache2/ports.conf.chef-20190606065045.368380
10.1.1.34 [2019-06-06T06:50:45+00:00] INFO: template[/etc/apache2/ports.conf] removed backup at /var/chef/backup/etc/apache2/ports.conf.chef-20181122065821.907163
10.1.1.34 [2019-06-06T06:50:45+00:00] INFO: template[/etc/apache2/ports.conf] updated file contents /etc/apache2/ports.conf
10.1.1.34
10.1.1.34     - update content in file /etc/apache2/ports.conf from 4632c4 to dd53b9
10.1.1.34     --- /etc/apache2/ports.conf       2019-06-06 06:46:03.273471958 +0000
10.1.1.34     +++ /etc/apache2/.chef-ports20190606-2811-z7ywnh.conf     2019-06-06 06:50:45.361471958 +0000
10.1.1.34     @@ -2,7 +2,7 @@
10.1.1.34      # have to change the VirtualHost statement in
10.1.1.34      # /etc/apache2/sites-enabled/000-default.conf
10.1.1.34
10.1.1.34     -Listen 8090
10.1.1.34     +Listen 8087
10.1.1.34
10.1.1.34      <IfModule ssl_module>
10.1.1.34              Listen 443
10.1.1.34   * service[restart apache] action nothing[2019-06-06T06:50:45+00:00] INFO: Processing service[restart apache] action nothing (apache2::default line 13)
10.1.1.34  (skipped due to action :nothing)
10.1.1.34 Recipe: user::default
10.1.1.34   * linux_user[userjun6] action create[2019-06-06T06:50:45+00:00] INFO: Processing linux_user[userjun6] action create (user::default line 1)
10.1.1.34  (up to date)
10.1.1.34   * group[userjun6] action create[2019-06-06T06:50:45+00:00] INFO: Processing group[userjun6] action create (user::default line 7)
10.1.1.34  (up to date)
10.1.1.34   * directory[/home/userjun6] action create[2019-06-06T06:50:45+00:00] INFO: Processing directory[/home/userjun6] action create (user::default line 12)
10.1.1.34  (up to date)
10.1.1.34 [2019-06-06T06:50:45+00:00] INFO: template[/etc/apache2/ports.conf] sending restart action to service[restart apache] (delayed)
10.1.1.34 Recipe: apache2::default
10.1.1.34   * service[restart apache] action restart[2019-06-06T06:50:45+00:00] INFO: Processing service[restart apache] action restart (apache2::default line 13)
10.1.1.34 [2019-06-06T06:50:48+00:00] INFO: service[restart apache] restarted
10.1.1.34
10.1.1.34     - restart service service[restart apache]
10.1.1.34 [2019-06-06T06:50:49+00:00] INFO: Chef Run complete in 4.113237497 seconds
10.1.1.34
10.1.1.34 Running handlers:
10.1.1.34 [2019-06-06T06:50:49+00:00] INFO: Running report handlers
10.1.1.34 Running handlers complete
10.1.1.34 [2019-06-06T06:50:49+00:00] INFO: Report handlers complete
10.1.1.34 Chef Client finished, 2/7 resources updated in 06 seconds
/home/vagrant/jun3> knife ssh 10.1.1.34 'sudo chef-client -E prod' --manual-list --ssh-user vagrant
10.1.1.34 bash: warning: setlocale: LC_ALL: cannot change locale (en_US)
10.1.1.34 [2019-06-06T06:51:07+00:00] INFO: Forking chef instance to converge...
10.1.1.34 Starting Chef Client, version 12.21.4
10.1.1.34 [2019-06-06T06:51:07+00:00] INFO: *** Chef 12.21.4 ***
10.1.1.34 [2019-06-06T06:51:07+00:00] INFO: Platform: x86_64-linux
10.1.1.34 [2019-06-06T06:51:07+00:00] INFO: Chef-client pid: 3194
10.1.1.34 [2019-06-06T06:51:07+00:00] INFO: The plugin path /etc/chef/ohai/plugins does not exist. Skipping...
10.1.1.34 [2019-06-06T06:51:09+00:00] INFO: Run List is [role[webserver]]
10.1.1.34 [2019-06-06T06:51:09+00:00] INFO: Run List expands to [apache2, user]
10.1.1.34 [2019-06-06T06:51:09+00:00] INFO: Starting Chef Run for node1-ubuntu
10.1.1.34 [2019-06-06T06:51:09+00:00] INFO: Running start handlers
10.1.1.34 [2019-06-06T06:51:09+00:00] INFO: Start handlers complete.
10.1.1.34 [2019-06-06T06:51:09+00:00] INFO: HTTP Request Returned 404 Not Found:
10.1.1.34 [2019-06-06T06:51:10+00:00] INFO: HTTP Request Returned 404 Not Found:
10.1.1.34 [2019-06-06T06:51:10+00:00] INFO: Error while reporting run start to Data Collector. URL: https://chef-server.test/organizations/devopsdemo/data-collector Exception: 404 -- 404 "Not Found"  (This is normal if you do not have Chef Automate)
10.1.1.34 resolving cookbooks for run list: ["apache2", "user"]
10.1.1.34 [2019-06-06T06:51:10+00:00] INFO: Loading cookbooks [apache2@0.1.0, user@0.1.0]
10.1.1.34 Synchronizing Cookbooks:
10.1.1.34   - apache2 (0.1.0)
10.1.1.34   - user (0.1.0)
10.1.1.34 Installing Cookbook Gems:
10.1.1.34 Compiling Cookbooks...
10.1.1.34 [2019-06-06T06:51:10+00:00] INFO: HTTP Request Returned 404 Not Found:
10.1.1.34 Converging 6 resources
10.1.1.34 Recipe: apache2::default
10.1.1.34   * apt_package[apache2] action install[2019-06-06T06:51:10+00:00] INFO: Processing apt_package[apache2] action install (apache2::default line 3)
10.1.1.34  (up to date)
10.1.1.34   * template[/etc/apache2/ports.conf] action create[2019-06-06T06:51:10+00:00] INFO: Processing template[/etc/apache2/ports.conf] action create (apache2::default line 8)
10.1.1.34 [2019-06-06T06:51:10+00:00] INFO: template[/etc/apache2/ports.conf] backed up to /var/chef/backup/etc/apache2/ports.conf.chef-20190606065110.295741
10.1.1.34 [2019-06-06T06:51:10+00:00] INFO: template[/etc/apache2/ports.conf] removed backup at /var/chef/backup/etc/apache2/ports.conf.chef-20181122065900.830073
10.1.1.34 [2019-06-06T06:51:10+00:00] INFO: template[/etc/apache2/ports.conf] updated file contents /etc/apache2/ports.conf
10.1.1.34
10.1.1.34     - update content in file /etc/apache2/ports.conf from dd53b9 to 4632c4
10.1.1.34     --- /etc/apache2/ports.conf       2019-06-06 06:50:45.361471958 +0000
10.1.1.34     +++ /etc/apache2/.chef-ports20190606-3194-17sieu1.conf    2019-06-06 06:51:10.285471958 +0000
10.1.1.34     @@ -2,7 +2,7 @@
10.1.1.34      # have to change the VirtualHost statement in
10.1.1.34      # /etc/apache2/sites-enabled/000-default.conf
10.1.1.34
10.1.1.34     -Listen 8087
10.1.1.34     +Listen 8090
10.1.1.34
10.1.1.34      <IfModule ssl_module>
10.1.1.34              Listen 443
10.1.1.34   * service[restart apache] action nothing[2019-06-06T06:51:10+00:00] INFO: Processing service[restart apache] action nothing (apache2::default line 13)
10.1.1.34  (skipped due to action :nothing)
10.1.1.34 Recipe: user::default
10.1.1.34   * linux_user[userjun6] action create[2019-06-06T06:51:10+00:00] INFO: Processing linux_user[userjun6] action create (user::default line 1)
10.1.1.34  (up to date)
10.1.1.34   * group[userjun6] action create[2019-06-06T06:51:10+00:00] INFO: Processing group[userjun6] action create (user::default line 7)
10.1.1.34  (up to date)
10.1.1.34   * directory[/home/userjun6] action create[2019-06-06T06:51:10+00:00] INFO: Processing directory[/home/userjun6] action create (user::default line 12)
10.1.1.34  (up to date)
10.1.1.34 [2019-06-06T06:51:10+00:00] INFO: template[/etc/apache2/ports.conf] sending restart action to service[restart apache] (delayed)
10.1.1.34 Recipe: apache2::default
10.1.1.34   * service[restart apache] action restart[2019-06-06T06:51:10+00:00] INFO: Processing service[restart apache] action restart (apache2::default line 13)
10.1.1.34 [2019-06-06T06:51:13+00:00] INFO: service[restart apache] restarted
10.1.1.34
10.1.1.34     - restart service service[restart apache]
10.1.1.34 [2019-06-06T06:51:13+00:00] INFO: Chef Run complete in 4.105445879 seconds
10.1.1.34
10.1.1.34 Running handlers:
10.1.1.34 [2019-06-06T06:51:14+00:00] INFO: Running report handlers
10.1.1.34 Running handlers complete
10.1.1.34 [2019-06-06T06:51:14+00:00] INFO: Report handlers complete
10.1.1.34 Chef Client finished, 2/7 resources updated in 06 seconds
/home/vagrant/jun3>
--------------------------------------------------------------------------------------------
/home/vagrant/jun3/cookbooks> cd user
/home/vagrant/jun3/cookbooks/user> ls
Berksfile  chefignore  metadata.rb  README.md  recipes  spec  test
/home/vagrant/jun3/cookbooks/user> cd recipes/
/home/vagrant/jun3/cookbooks/user/recipes> ls
default.rb
/home/vagrant/jun3/cookbooks/user/recipes> cat default.rb
user 'userjun6' do
  home '/home/userjun6'
  shell '/bin/bash'
  password '$1$aNenDpoI$26X77RXKaD.iFKZjlMdMT.'
end

group 'userjun6' do
  action :create
  members 'userjun6'
end

directory '/home/userjun6' do
  owner 'userjun6'
  group 'userjun6'
  mode '0755'
  action :create
end
/home/vagrant/jun3/cookbooks/user/recipes>
/home/vagrant/jun3/cookbooks/user/recipes> curl 10.1.1.34:8090
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<html>
 <head>
  <title>Index of /</title>
 </head>
 <body>
<h1>Index of /</h1>
  <table>
   <tr><th valign="top"><img src="/icons/blank.gif" alt="[ICO]"></th><th><a href="?C=N;O=D">Name</a></th><th><a href="?C=M;O=A">Last modified</a></th><th><a href="?C=S;O=A">Size</a></th><th><a href="?C=D;O=A">Description</a></th></tr>
   <tr><th colspan="5"><hr></th></tr>
<tr><td valign="top"><img src="/icons/folder.gif" alt="[DIR]"></td><td><a href="html/">html/</a></td><td align="right">2016-12-18 03:47  </td><td align="right">  - </td><td>&nbsp;</td></tr>
   <tr><th colspan="5"><hr></th></tr>
</table>
<address>Apache/2.4.7 (Ubuntu) Server at 10.1.1.34 Port 8090</address>
</body></html>
/home/vagrant/jun3/cookbooks/user/recipes> ls
default.rb
/home/vagrant/jun3/cookbooks/user/recipes>
/home/vagrant/jun3/cookbooks/user/recipes> ls
default.rb
/home/vagrant/jun3/cookbooks/user/recipes> cat default.rb
user 'userjun6' do
  home '/home/userjun6'
  shell '/bin/bash'
  password '$1$aNenDpoI$26X77RXKaD.iFKZjlMdMT.'
end

group 'userjun6' do
  action :create
  members 'userjun6'
end

directory '/home/userjun6' do
  owner 'userjun6'
  group 'userjun6'
  mode '0755'
  action :create
end
/home/vagrant/jun3/cookbooks/user/recipes>
/home/vagrant/jun3/cookbooks/user/recipes> cd ../..
/home/vagrant/jun3/cookbooks> ls
apache2  mycookbook-0.2.0  myvars  user
/home/vagrant/jun3/cookbooks> cd ..
/home/vagrant/jun3> ls
apache.rb  environments   node1-ubuntu-key.pem  roles
cookbooks  helloworld.rb  nodes                 stop.rb
/home/vagrant/jun3> mkdir data_bags
/home/vagrant/jun3> cd data_bags/
/home/vagrant/jun3/data_bags> ls
/home/vagrant/jun3/data_bags> mkdir users
/home/vagrant/jun3/data_bags> cd users/
/home/vagrant/jun3/data_bags/users> ls
/home/vagrant/jun3/data_bags/users> vi aditya.json
/home/vagrant/jun3/data_bags/users> cp aditya.json arun.json
/home/vagrant/jun3/data_bags/users> vi arun.json
/home/vagrant/jun3/data_bags/users> cat aditya.json
{
  "id": "aditya",
  "home": "/home/aditya"
  "shell": "/bin/bash"
  "group": "aditya"
}
/home/vagrant/jun3/data_bags/users> cat arun.json
{
  "id": "arun",
  "home": "/home/arun"
  "shell": "/bin/bash"
  "group": "arun"
}
/home/vagrant/jun3/data_bags/users> cd ..
/home/vagrant/jun3/data_bags> knife data_bag list
logins
sensitive
/home/vagrant/jun3/data_bags> knife data_bag delete logins
Do you really want to delete logins? (Y/N) Y
Deleted data_bag[logins]
/home/vagrant/jun3/data_bags> knife data_bag delete sensitive
Do you really want to delete sensitive? (Y/N) Y
Deleted data_bag[sensitive]
/home/vagrant/jun3/data_bags> knife data_bag create logins
Created data_bag[logins]
/home/vagrant/jun3/data_bags> knife data_bag create users
Created data_bag[users]
/home/vagrant/jun3/data_bags> knife data_bag delete logins
Do you really want to delete logins? (Y/N) Y
Deleted data_bag[logins]
/home/vagrant/jun3/data_bags> knife data_bag list
users
/home/vagrant/jun3/data_bags> knife data_bag from file users aditya.json
ERROR: Could not find or open file 'aditya.json' in current directory or in 'data_bags/users/aditya.json'
/home/vagrant/jun3/data_bags> ls
users
/home/vagrant/jun3/data_bags> ls users/
aditya.json  arun.json
/home/vagrant/jun3/data_bags> ls
users
/home/vagrant/jun3/data_bags> cd ..
/home/vagrant/jun3> knife data_bag from file users aditya.json
ERROR: FFI_Yajl::ParseError: parse error: after key and value, inside map, I expect ',' or '}'
             "home": "/home/aditya"   "shell": "/bin/bash"   "group":
                     (right here) ------^
/home/vagrant/jun3> vi data_bags/users/aditya.json
/home/vagrant/jun3> vi data_bags/users/arun.json
/home/vagrant/jun3> knife data_bag from file users aditya.json
Updated data_bag_item[users::aditya]
/home/vagrant/jun3> knife data_bag from file users arun.json
Updated data_bag_item[users::arun]
/home/vagrant/jun3> knife data_bag list
users
/home/vagrant/jun3> knife data_bag show users
aditya
arun
/home/vagrant/jun3> knife data_bag show users aditya
WARNING: Unencrypted data bag detected, ignoring any provided secret options.
group: aditya
home:  /home/aditya
id:    aditya
shell: /bin/bash
/home/vagrant/jun3> knife data_bag show users arun
WARNING: Unencrypted data bag detected, ignoring any provided secret options.
group: arun
home:  /home/arun
id:    arun
shell: /bin/bash
/home/vagrant/jun3> knife search node "*:*"
1 items found

Node Name:   node1-ubuntu
Environment: prod
FQDN:        node1-ubuntu
IP:          10.0.2.15
Run List:    role[webserver]
Roles:       webserver
Recipes:     apache2, apache2::default, user, user::default
Platform:    ubuntu 14.04
Tags:

/home/vagrant/jun3> knife search node "ip*:10.0.2*"
1 items found

Node Name:   node1-ubuntu
Environment: prod
FQDN:        node1-ubuntu
IP:          10.0.2.15
Run List:    role[webserver]
Roles:       webserver
Recipes:     apache2, apache2::default, user, user::default
Platform:    ubuntu 14.04
Tags:

/home/vagrant/jun3> knife search node "fq*:node1*"
1 items found

Node Name:   node1-ubuntu
Environment: prod
FQDN:        node1-ubuntu
IP:          10.0.2.15
Run List:    role[webserver]
Roles:       webserver
Recipes:     apache2, apache2::default, user, user::default
Platform:    ubuntu 14.04
Tags:

/home/vagrant/jun3> ls
apache.rb  data_bags     helloworld.rb         nodes  stop.rb
cookbooks  environments  node1-ubuntu-key.pem  roles
/home/vagrant/jun3> vi helloworld.rb
/home/vagrant/jun3> cat helloworld.rb
file '/tmp/helloworld.txt' do
  content 'username=scott'
  action :create
end

envs = ['dev','prod','ua']

envs.each do |env|
  file "/tmp/#{env}.cnf" do
    action :create
  end
end

log "Ipaddress is #{node['ipaddress']}"
log "Linux kernel name is #{node['kernel']['name']}"

mynodes = search("node", "*:*")
mynodes.each do |mynode|
  log mynode.to_s
end
/home/vagrant/jun3> sudo chef-client --local-mode helloworld.rb
[2019-06-06T08:49:17+00:00] INFO: Started chef-zero at chefzero://localhost:8889 with repository at /home/vagrant/jun3
  One version per cookbook

[2019-06-06T08:49:17+00:00] INFO: Forking chef instance to converge...
Starting Chef Client, version 12.16.42
[2019-06-06T08:49:17+00:00] INFO: *** Chef 12.16.42 ***
[2019-06-06T08:49:17+00:00] INFO: Platform: x86_64-linux
[2019-06-06T08:49:17+00:00] INFO: Chef-client pid: 4372
[2019-06-06T08:49:21+00:00] INFO: Run List is [recipe[apache2]]
[2019-06-06T08:49:21+00:00] INFO: Run List expands to [apache2]
[2019-06-06T08:49:21+00:00] INFO: Starting Chef Run for devopsadmin
[2019-06-06T08:49:21+00:00] INFO: Running start handlers
[2019-06-06T08:49:21+00:00] INFO: Start handlers complete.
[2019-06-06T08:49:21+00:00] INFO: HTTP Request Returned 404 Not Found: Object not found:
resolving cookbooks for run list: ["apache2"]
[2019-06-06T08:49:21+00:00] INFO: Loading cookbooks [apache2@0.1.0]
Synchronizing Cookbooks:
[2019-06-06T08:49:21+00:00] INFO: Storing updated cookbooks/apache2/templates/ports.conf.erb in the cache.
[2019-06-06T08:49:21+00:00] INFO: Storing updated cookbooks/apache2/attributes/default.rb in the cache.
[2019-06-06T08:49:21+00:00] INFO: Storing updated cookbooks/apache2/recipes/default.rb in the cache.
  - apache2 (0.1.0)
Installing Cookbook Gems:
Compiling Cookbooks...
Converging 11 resources
Recipe: apache2::default
  * apt_package[apache2] action install[2019-06-06T08:49:22+00:00] INFO: Processing apt_package[apache2] action install (apache2::default line 3)
 (up to date)
  * service[apache2] action enable[2019-06-06T08:49:22+00:00] INFO: Processing service[apache2] action enable (apache2::default line 7)
 (up to date)
  * service[apache2] action start[2019-06-06T08:49:22+00:00] INFO: Processing service[apache2] action start (apache2::default line 7)
 (up to date)
  * template[/etc/apache2/ports.conf] action create[2019-06-06T08:49:22+00:00] INFO: Processing template[/etc/apache2/ports.conf] action create (apache2::default line 11)
[2019-06-06T08:49:22+00:00] INFO: template[/etc/apache2/ports.conf] backed up to /home/vagrant/jun3/.chef/local-mode-cache/backup/etc/apache2/ports.conf.chef-20190606084922.717565
[2019-06-06T08:49:22+00:00] INFO: template[/etc/apache2/ports.conf] updated file contents /etc/apache2/ports.conf

    - update content in file /etc/apache2/ports.conf from d39026 to 009ad8
    --- /etc/apache2/ports.conf 2018-11-21 08:31:54.131342232 +0000
    +++ /etc/apache2/.chef-ports20190606-4372-19655az.conf      2019-06-06 08:49:22.711976118 +0000
    @@ -2,14 +2,14 @@
     # have to change the VirtualHost statement in
     # /etc/apache2/sites-enabled/000-default.conf

    -Listen 9090
    +Listen 9998

     <IfModule ssl_module>
    -   Listen 443
    +        Listen 443
     </IfModule>

     <IfModule mod_gnutls.c>
    -   Listen 443
    +        Listen 443
     </IfModule>

     # vim: syntax=apache ts=4 sw=4 sts=4 sr noet
[2019-06-06T08:49:22+00:00] INFO: template[/etc/apache2/ports.conf] sending restart action to service[restart apache] (immediate)
  * service[restart apache] action restart[2019-06-06T08:49:22+00:00] INFO: Processing service[restart apache] action restart (apache2::default line 16)
[2019-06-06T08:49:24+00:00] INFO: service[restart apache] restarted

    - restart service service[restart apache]
  * service[restart apache] action nothing[2019-06-06T08:49:24+00:00] INFO: Processing service[restart apache] action nothing (apache2::default line 16)
 (skipped due to action :nothing)
Recipe: @recipe_files::/home/vagrant/jun3/helloworld.rb
  * file[/tmp/helloworld.txt] action create[2019-06-06T08:49:24+00:00] INFO: Processing file[/tmp/helloworld.txt] action create (@recipe_files::/home/vagrant/jun3/helloworld.rb line 1)
[2019-06-06T08:49:24+00:00] INFO: file[/tmp/helloworld.txt] created file /tmp/helloworld.txt

    - create new file /tmp/helloworld.txt[2019-06-06T08:49:24+00:00] INFO: file[/tmp/helloworld.txt] updated file contents /tmp/helloworld.txt

    - update content in file /tmp/helloworld.txt from none to 9fe9fc
    --- /tmp/helloworld.txt     2019-06-06 08:49:24.940013479 +0000
    +++ /tmp/.chef-helloworld20190606-4372-146czv6.txt  2019-06-06 08:49:24.940013479 +0000
    @@ -1 +1,2 @@
    +username=scott
  * file[/tmp/dev.cnf] action create[2019-06-06T08:49:24+00:00] INFO: Processing file[/tmp/dev.cnf] action create (@recipe_files::/home/vagrant/jun3/helloworld.rb line 9)
[2019-06-06T08:49:24+00:00] INFO: file[/tmp/dev.cnf] created file /tmp/dev.cnf

    - create new file /tmp/dev.cnf
  * file[/tmp/prod.cnf] action create[2019-06-06T08:49:24+00:00] INFO: Processing file[/tmp/prod.cnf] action create (@recipe_files::/home/vagrant/jun3/helloworld.rb line 9)
[2019-06-06T08:49:24+00:00] INFO: file[/tmp/prod.cnf] created file /tmp/prod.cnf

    - create new file /tmp/prod.cnf
  * file[/tmp/ua.cnf] action create[2019-06-06T08:49:24+00:00] INFO: Processing file[/tmp/ua.cnf] action create (@recipe_files::/home/vagrant/jun3/helloworld.rb line 9)
[2019-06-06T08:49:24+00:00] INFO: file[/tmp/ua.cnf] created file /tmp/ua.cnf

    - create new file /tmp/ua.cnf
  * log[Ipaddress is 10.0.2.15] action write[2019-06-06T08:49:24+00:00] INFO: Processing log[Ipaddress is 10.0.2.15] action write (@recipe_files::/home/vagrant/jun3/helloworld.rb line 14)
[2019-06-06T08:49:24+00:00] INFO: Ipaddress is 10.0.2.15


  * log[Linux kernel name is Linux] action write[2019-06-06T08:49:24+00:00] INFO: Processing log[Linux kernel name is Linux] action write (@recipe_files::/home/vagrant/jun3/helloworld.rb line 15)
[2019-06-06T08:49:24+00:00] INFO: Linux kernel name is Linux


  * log[node[devopsadmin]] action write[2019-06-06T08:49:24+00:00] INFO: Processing log[node[devopsadmin]] action write (@recipe_files::/home/vagrant/jun3/helloworld.rb line 19)
[2019-06-06T08:49:24+00:00] INFO: node[devopsadmin]


[2019-06-06T08:49:25+00:00] INFO: Chef Run complete in 3.232880452 seconds

Running handlers:
[2019-06-06T08:49:25+00:00] INFO: Running report handlers
Running handlers complete
[2019-06-06T08:49:25+00:00] INFO: Report handlers complete
Chef Client finished, 9/13 resources updated in 07 seconds
/home/vagrant/jun3>
